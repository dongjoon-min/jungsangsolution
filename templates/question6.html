{% extends "base.html" %}
{% block content %}
<br>
<div id="progress-data" data-question-id="{{ question_id }}"></div>
<div class="progress-container">
    <div class="progress-bar" id="progress-bar">
        <span id="progress-text"></span>
    </div>
</div>
<br>
<h2>눈꺼풀세정제*를 사용하면 불편함이 완화되나요?</h2>
<br>
* 눈꺼풀 세정제 : 블레파졸, 오큐소프트 등
<br>
<br>
<img src=https://raw.githubusercontent.com/dongjoon-min/publicimages/main/images/%EB%B8%94%EB%A0%88%ED%8C%8C%EC%A1%B8%2C%20%EC%98%A4%ED%81%90%EC%86%8C%ED%94%84%ED%8A%B8.png
    width="50%" , height="50%">
<br>
<br>
<form id="question-form" action="/submit/6" method="post">
    <button type="submit" name="answer" value="Yes" class="option-button">예</button>
    <button type="submit" name="answer" value="No" class="option-button">아니오</button>
    <button type="submit" name="answer" value="notyet" class="option-button">아직 안 써봤어요</button>
    <input type="hidden" name="existing_answers" value='{{ answers }}'>
</form>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const progressData = document.getElementById('progress-data');
        const currentQuestionId = progressData.dataset.questionId;
        updateProgressBar(currentQuestionId);
    });

    function updateProgressBar(questionId) {
        const totalQuestions = 13;
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const progress = (questionId / totalQuestions) * 100;

        progressBar.style.width = progress + '%';
        progressText.textContent = questionId + ' / ' + totalQuestions;
    }

    // 다중 선택 
</script>
{% endblock %}